import java.util.Arrays;

public class QuckSort {

	public static void main(String[] args) {
		//int x[] = { 36, 12, 15, 42, 4, 60, 9, 18, 75, 42 };
		int x[] = { -44, 11, 99, 77, 33, 22, 55 };


		int stack[][] = new int[10][2];
		int e = 0;
		int f = 0;
		int lb = 0;
		int ub = x.length-1;
		int top = x.length;
		int pp = 0;
		top--;
		stack[top][0] = lb;
		stack[top][1] = ub;

		while (top != 10) {

			lb = stack[top][0];
			ub = stack[top][1];
			e = lb;
			f = ub;
			top++;
			while(e<f){
				while(e<ub && x[e]<=x[lb]){
					e= e+1;
				}
				while(x[f]>x[lb]){
					f = f-1;
				}
				if(e<f){
					int tmp = x[e];
					x[e]= x[f];
					x[f] = tmp;
				}else{
					int tmp = x[lb];
					x[lb] = x[f];
					x[f] = tmp;
					pp=f;
				}
			}
			
			if(pp+1<ub){
				top--;
				stack[top][0]=pp+1;
				stack[top][1] = ub;
				
			}if(lb<pp-1){
				top--;
				stack[top][0]=lb;
				stack[top][1]=pp-1;
				
			}
		}
		System.out.println(Arrays.toString(x));
	}

}
